2026-02-13 01:30:17.214 +02:00 [ERR] The model for context 'ContextApp' has pending changes. Add a new migration before updating the database. See https://aka.ms/efcore-docs-pending-changes.
2026-02-13 01:30:18.070 +02:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2026-02-13 01:30:18.179 +02:00 [INF] Executed DbCommand (81ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT GET_LOCK('__db39102_EFMigrationsLock', 259200)
2026-02-13 01:30:18.423 +02:00 [INF] Executed DbCommand (73ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS `__EFMigrationsHistory` (
    `MigrationId` varchar(150) CHARACTER SET utf8mb4 NOT NULL,
    `ProductVersion` varchar(32) CHARACTER SET utf8mb4 NOT NULL,
    CONSTRAINT `PK___EFMigrationsHistory` PRIMARY KEY (`MigrationId`)
) CHARACTER SET=utf8mb4;
2026-02-13 01:30:19.045 +02:00 [INF] Executed DbCommand (76ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='db39102' AND TABLE_NAME='__EFMigrationsHistory';
2026-02-13 01:30:19.127 +02:00 [INF] Executed DbCommand (79ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `MigrationId`, `ProductVersion`
FROM `__EFMigrationsHistory`
ORDER BY `MigrationId`;
2026-02-13 01:30:19.137 +02:00 [INF] Applying migration '20260212232304_add-casetype-entity'.
2026-02-13 01:30:19.254 +02:00 [ERR] Failed executing DbCommand (76ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `CaseTypes` (
    `Id` char(36) COLLATE ascii_general_ci NOT NULL,
    `Name` varchar(255) CHARACTER SET utf8mb4 NOT NULL,
    `Description` longtext CHARACTER SET utf8mb4 NOT NULL,
    `CreateAt` datetime(6) NOT NULL,
    `UpdateAt` datetime(6) NULL,
    `DeleteAt` datetime(6) NULL,
    CONSTRAINT `PK_CaseTypes` PRIMARY KEY (`Id`)
) CHARACTER SET=utf8mb4;
2026-02-13 01:31:14.480 +02:00 [INF] DB tables already exist. Exit install
2026-02-13 01:31:14.585 +02:00 [INF] User profile is available. Using 'C:\Users\DELL\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-02-13 01:31:14.831 +02:00 [INF] Now listening on: https://localhost:7267
2026-02-13 01:31:14.840 +02:00 [INF] Now listening on: http://localhost:5045
2026-02-13 01:31:15.008 +02:00 [INF] Starting Hangfire Server using job storage: 'Server: db39102.public.databaseasp.net@db39102'
2026-02-13 01:31:15.011 +02:00 [INF] Using the following options for SQL Server job storage:
2026-02-13 01:31:15.014 +02:00 [INF]     Queue poll interval: 00:00:10.
2026-02-13 01:31:15.019 +02:00 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2026-02-13 01:31:15.040 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2026-02-13 01:31:15.042 +02:00 [INF] Hosting environment: Development
2026-02-13 01:31:15.044 +02:00 [INF] Content root path: D:\projects\DentalHub\DentalHub.API
2026-02-13 01:31:15.365 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7267/swagger/index.html - null null
2026-02-13 01:31:15.645 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7267/swagger/index.html - 200 null text/html;charset=utf-8 280.4646ms
2026-02-13 01:31:15.708 +02:00 [INF] Server mrrobot:17940:e7d5b6db successfully announced in 651.9934 ms
2026-02-13 01:31:15.723 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7267/_framework/aspnetcore-browser-refresh.js - null null
2026-02-13 01:31:15.724 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7267/_vs/browserLink - null null
2026-02-13 01:31:15.724 +02:00 [INF] Server mrrobot:17940:e7d5b6db is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
2026-02-13 01:31:15.747 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7267/_framework/aspnetcore-browser-refresh.js - 200 16511 application/javascript; charset=utf-8 23.9543ms
2026-02-13 01:31:15.790 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7267/_vs/browserLink - 200 null text/javascript; charset=UTF-8 65.8999ms
2026-02-13 01:31:15.792 +02:00 [INF] Server mrrobot:17940:e7d5b6db all the dispatchers started
2026-02-13 01:31:15.930 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7267/swagger/v1/swagger.json - null null
2026-02-13 01:31:16.019 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7267/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 88.7273ms
2026-02-13 01:31:54.703 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7267/api/CaseTypes?page=1&pageSize=10 - null null
2026-02-13 01:31:54.768 +02:00 [INF] Executing endpoint 'DentalHub.API.Controllers.CaseTypesController.GetAll (DentalHub.API)'
2026-02-13 01:31:54.800 +02:00 [INF] Route matched with {action = "GetAll", controller = "CaseTypes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[DentalHub.Application.DTOs.Shared.ApiResponse`1[System.Collections.Generic.List`1[DentalHub.Application.DTOs.CaseTypes.CaseTypeDto]]]] GetAll(Int32, Int32, System.String) on controller DentalHub.API.Controllers.CaseTypesController (DentalHub.API).
2026-02-13 01:31:54.814 +02:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2026-02-13 01:31:57.207 +02:00 [INF] Executed DbCommand (80ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Name`, `c`.`Description`
FROM `CaseTypes` AS `c`
WHERE `c`.`DeleteAt` IS NULL
ORDER BY `c`.`Name`
LIMIT @__p_1 OFFSET @__p_0
2026-02-13 01:31:57.243 +02:00 [INF] Executing OkObjectResult, writing value of type 'DentalHub.Application.DTOs.Shared.ApiResponse`1[[System.Collections.Generic.List`1[[DentalHub.Application.DTOs.CaseTypes.CaseTypeDto, DentalHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-02-13 01:31:57.269 +02:00 [INF] Executed action DentalHub.API.Controllers.CaseTypesController.GetAll (DentalHub.API) in 2454.5668ms
2026-02-13 01:31:57.276 +02:00 [INF] Executed endpoint 'DentalHub.API.Controllers.CaseTypesController.GetAll (DentalHub.API)'
2026-02-13 01:31:57.290 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7267/api/CaseTypes?page=1&pageSize=10 - 200 null application/json; charset=utf-8 2587.3053ms
2026-02-13 01:35:40.362 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7267/api/CaseTypes?page=1&pageSize=10 - null null
2026-02-13 01:35:40.417 +02:00 [INF] Executing endpoint 'DentalHub.API.Controllers.CaseTypesController.GetAll (DentalHub.API)'
2026-02-13 01:35:40.421 +02:00 [INF] Route matched with {action = "GetAll", controller = "CaseTypes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[DentalHub.Application.DTOs.Shared.ApiResponse`1[System.Collections.Generic.List`1[DentalHub.Application.DTOs.CaseTypes.CaseTypeDto]]]] GetAll(Int32, Int32, System.String) on controller DentalHub.API.Controllers.CaseTypesController (DentalHub.API).
2026-02-13 01:35:41.012 +02:00 [INF] Executed DbCommand (78ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Name`, `c`.`Description`
FROM `CaseTypes` AS `c`
WHERE `c`.`DeleteAt` IS NULL
ORDER BY `c`.`Name`
LIMIT @__p_1 OFFSET @__p_0
2026-02-13 01:35:41.020 +02:00 [INF] Executing OkObjectResult, writing value of type 'DentalHub.Application.DTOs.Shared.ApiResponse`1[[System.Collections.Generic.List`1[[DentalHub.Application.DTOs.CaseTypes.CaseTypeDto, DentalHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-02-13 01:35:41.028 +02:00 [INF] Executed action DentalHub.API.Controllers.CaseTypesController.GetAll (DentalHub.API) in 602.6595ms
2026-02-13 01:35:41.033 +02:00 [INF] Executed endpoint 'DentalHub.API.Controllers.CaseTypesController.GetAll (DentalHub.API)'
2026-02-13 01:35:41.036 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7267/api/CaseTypes?page=1&pageSize=10 - 200 null application/json; charset=utf-8 673.8047ms
2026-02-13 01:36:05.045 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7267/api/Patients - null null
2026-02-13 01:36:05.212 +02:00 [INF] Executing endpoint 'DentalHub.API.Controllers.PatientsController.GetAll (DentalHub.API)'
2026-02-13 01:36:05.229 +02:00 [INF] Route matched with {action = "GetAll", controller = "Patients"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[DentalHub.Application.DTOs.Shared.ApiResponse`1[System.Collections.Generic.List`1[DentalHub.Application.DTOs.Patients.PatientDto]]]] GetAll() on controller DentalHub.API.Controllers.PatientsController (DentalHub.API).
2026-02-13 01:36:05.868 +02:00 [INF] Executed DbCommand (82ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p0`.`UserId`, `a`.`FullName`, `a`.`Email`, `p0`.`Phone`, `p0`.`Age`, `p0`.`CreateAt`, (
    SELECT COUNT(*)
    FROM `PatientCases` AS `p1`
    WHERE `p1`.`DeleteAt` IS NULL AND (`p0`.`UserId` = `p1`.`PatientId`)) AS `TotalCases`, (
    SELECT COUNT(*)
    FROM `PatientCases` AS `p2`
    WHERE (`p2`.`DeleteAt` IS NULL AND (`p0`.`UserId` = `p2`.`PatientId`)) AND (`p2`.`Status` = 1)) AS `ActiveCases`
FROM (
    SELECT `p`.`UserId`, `p`.`Age`, `p`.`CreateAt`, `p`.`Phone`
    FROM `Patients` AS `p`
    WHERE `p`.`DeleteAt` IS NULL
    ORDER BY `p`.`CreateAt` DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS `p0`
INNER JOIN `AspNetUsers` AS `a` ON `p0`.`UserId` = `a`.`Id`
ORDER BY `p0`.`CreateAt` DESC
2026-02-13 01:36:05.880 +02:00 [INF] Executing OkObjectResult, writing value of type 'DentalHub.Application.DTOs.Shared.ApiResponse`1[[System.Collections.Generic.List`1[[DentalHub.Application.DTOs.Patients.PatientDto, DentalHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-02-13 01:36:05.896 +02:00 [INF] Executed action DentalHub.API.Controllers.PatientsController.GetAll (DentalHub.API) in 644.941ms
2026-02-13 01:36:05.912 +02:00 [INF] Executed endpoint 'DentalHub.API.Controllers.PatientsController.GetAll (DentalHub.API)'
2026-02-13 01:36:05.915 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7267/api/Patients - 200 null application/json; charset=utf-8 870.0779ms
2026-02-13 01:36:16.025 +02:00 [INF] 3 servers were removed due to timeout
2026-02-13 01:37:06.307 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7267/api/Cases - application/json 159
2026-02-13 01:37:06.352 +02:00 [INF] CORS policy execution successful.
2026-02-13 01:37:06.355 +02:00 [INF] Executing endpoint 'DentalHub.API.Controllers.CasesController.Create (DentalHub.API)'
2026-02-13 01:37:06.362 +02:00 [INF] Route matched with {action = "Create", controller = "Cases"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[DentalHub.Application.DTOs.Shared.ApiResponse`1[System.Guid]]] Create(DentalHub.Application.Commands.PatientCase.CreatePatientCaseCommand) on controller DentalHub.API.Controllers.CasesController (DentalHub.API).
2026-02-13 01:37:06.425 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2026-02-13 01:37:06.461 +02:00 [INF] Executed action DentalHub.API.Controllers.CasesController.Create (DentalHub.API) in 86.7503ms
2026-02-13 01:37:06.469 +02:00 [INF] Executed endpoint 'DentalHub.API.Controllers.CasesController.Create (DentalHub.API)'
2026-02-13 01:37:06.473 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7267/api/Cases - 400 null application/problem+json; charset=utf-8 166.0202ms
2026-02-13 01:37:21.658 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7267/api/Cases - application/json 161
2026-02-13 01:37:21.724 +02:00 [INF] CORS policy execution successful.
2026-02-13 01:37:21.727 +02:00 [INF] Executing endpoint 'DentalHub.API.Controllers.CasesController.Create (DentalHub.API)'
2026-02-13 01:37:21.730 +02:00 [INF] Route matched with {action = "Create", controller = "Cases"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[DentalHub.Application.DTOs.Shared.ApiResponse`1[System.Guid]]] Create(DentalHub.Application.Commands.PatientCase.CreatePatientCaseCommand) on controller DentalHub.API.Controllers.CasesController (DentalHub.API).
2026-02-13 01:37:21.748 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2026-02-13 01:37:21.754 +02:00 [INF] Executed action DentalHub.API.Controllers.CasesController.Create (DentalHub.API) in 16.3437ms
2026-02-13 01:37:21.758 +02:00 [INF] Executed endpoint 'DentalHub.API.Controllers.CasesController.Create (DentalHub.API)'
2026-02-13 01:37:21.763 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7267/api/Cases - 400 null application/problem+json; charset=utf-8 104.9304ms
2026-02-13 01:38:11.809 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7267/swagger/index.html - null null
2026-02-13 01:38:11.843 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7267/swagger/index.html - 200 null text/html;charset=utf-8 34.1521ms
2026-02-13 01:38:11.982 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7267/_framework/aspnetcore-browser-refresh.js - null null
2026-02-13 01:38:12.003 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7267/_vs/browserLink - null null
2026-02-13 01:38:12.128 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7267/_framework/aspnetcore-browser-refresh.js - 200 16511 application/javascript; charset=utf-8 146.1352ms
2026-02-13 01:38:12.207 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7267/_vs/browserLink - 200 null text/javascript; charset=UTF-8 203.3881ms
2026-02-13 01:38:13.994 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7267/swagger/v1/swagger.json - null null
2026-02-13 01:38:14.083 +02:00 [ERR] An unhandled exception occurred
Swashbuckle.AspNetCore.SwaggerGen.SwaggerGeneratorException: Failed to generate Operation for action - DentalHub.API.Controllers.CasesController.Create (DentalHub.API). See inner exception
 ---> Swashbuckle.AspNetCore.SwaggerGen.SwaggerGeneratorException: Failed to generate schema for type - DentalHub.Application.Commands.PatientCase.CreatePatientCaseCommand. See inner exception
 ---> System.TypeLoadException: Could not load type 'DentalHub.Application.Exceptions.ForbiddenAccessException' from assembly 'DentalHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null' due to value type mismatch.
   at System.Signature.GetSignature(Void* pCorSig, Int32 cCorSig, RuntimeFieldHandleInternal fieldHandle, IRuntimeMethodInfo methodHandle, RuntimeType declaringType)
   at System.Reflection.RuntimeConstructorInfo.<get_Signature>g__LazyCreateSignature|21_0()
   at System.Reflection.RuntimeConstructorInfo.GetParameters()
   at Swashbuckle.AspNetCore.SwaggerGen.JsonSerializerDataContractResolver.<>c.<GetDataPropertiesFor>b__6_3(ConstructorInfo c)
   at System.Linq.Enumerable.OrderedIterator`2.TryGetFirst(Boolean& found)
   at System.Linq.Enumerable.FirstOrDefault[TSource](IEnumerable`1 source)
   at Swashbuckle.AspNetCore.SwaggerGen.JsonSerializerDataContractResolver.GetDataPropertiesFor(Type objectType, Type& extensionDataType)
   at Swashbuckle.AspNetCore.SwaggerGen.JsonSerializerDataContractResolver.GetDataContractForType(Type type)
   at Swashbuckle.AspNetCore.SwaggerGen.SchemaGenerator.GetDataContractFor(Type modelType)
   at Swashbuckle.AspNetCore.SwaggerGen.SchemaGenerator.GenerateSchemaForParameter(Type modelType, SchemaRepository schemaRepository, ParameterInfo parameterInfo, ApiParameterRouteInfo routeInfo)
   at Swashbuckle.AspNetCore.SwaggerGen.SchemaGenerator.GenerateSchema(Type modelType, SchemaRepository schemaRepository, MemberInfo memberInfo, ParameterInfo parameterInfo, ApiParameterRouteInfo routeInfo)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateSchema(Type type, SchemaRepository schemaRepository, PropertyInfo propertyInfo, ParameterInfo parameterInfo, ApiParameterRouteInfo routeInfo)
   --- End of inner exception stack trace ---
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateSchema(Type type, SchemaRepository schemaRepository, PropertyInfo propertyInfo, ParameterInfo parameterInfo, ApiParameterRouteInfo routeInfo)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateRequestBodyFromBodyParameter(ApiDescription apiDescription, SchemaRepository schemaRepository, ApiParameterDescription bodyParameter)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateRequestBodyAndFilterContext(ApiDescription apiDescription, SchemaRepository schemaRepository, OpenApiDocument document)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateRequestBodyAsync(ApiDescription apiDescription, SchemaRepository schemaRepository, OpenApiDocument document)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateOperationAsync(OpenApiDocument document, ApiDescription apiDescription, SchemaRepository schemaRepository, Func`4 parametersGenerator, Func`4 bodyGenerator, Func`3 applyFilters)
   --- End of inner exception stack trace ---
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateOperationAsync(OpenApiDocument document, ApiDescription apiDescription, SchemaRepository schemaRepository, Func`4 parametersGenerator, Func`4 bodyGenerator, Func`3 applyFilters)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateOperationAsync(OpenApiDocument document, ApiDescription apiDescription, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateOperationsAsync(OpenApiDocument document, IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GeneratePathsAsync(OpenApiDocument document, IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository, Func`4 operationsGenerator)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GeneratePathsAsync(OpenApiDocument document, IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerAsync(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at DentalHub.API.Middleware.GlobalExceptionHandlerMiddleware.InvokeAsync(HttpContext context) in D:\projects\DentalHub\DentalHub.API\Middleware\GlobalExceptionHandlerMiddleware.cs:line 28
2026-02-13 01:38:14.180 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7267/swagger/v1/swagger.json - 500 null application/json 185.3372ms
2026-02-13 01:38:27.140 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7267/swagger/index.html - null null
2026-02-13 01:38:27.218 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7267/swagger/index.html - 200 null text/html;charset=utf-8 78.5556ms
2026-02-13 01:38:27.380 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7267/_framework/aspnetcore-browser-refresh.js - null null
2026-02-13 01:38:27.385 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7267/_vs/browserLink - null null
2026-02-13 01:38:27.597 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7267/_framework/aspnetcore-browser-refresh.js - 200 16511 application/javascript; charset=utf-8 216.6822ms
2026-02-13 01:38:27.646 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7267/_vs/browserLink - 200 null text/javascript; charset=UTF-8 260.9027ms
2026-02-13 01:38:27.839 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7267/swagger/v1/swagger.json - null null
2026-02-13 01:38:27.866 +02:00 [ERR] An unhandled exception occurred
Swashbuckle.AspNetCore.SwaggerGen.SwaggerGeneratorException: Failed to generate Operation for action - DentalHub.API.Controllers.CasesController.Create (DentalHub.API). See inner exception
 ---> Swashbuckle.AspNetCore.SwaggerGen.SwaggerGeneratorException: Failed to generate schema for type - DentalHub.Application.Commands.PatientCase.CreatePatientCaseCommand. See inner exception
 ---> System.TypeLoadException: Could not load type 'DentalHub.Application.Exceptions.ForbiddenAccessException' from assembly 'DentalHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null' due to value type mismatch.
   at System.Signature.GetSignature(Void* pCorSig, Int32 cCorSig, RuntimeFieldHandleInternal fieldHandle, IRuntimeMethodInfo methodHandle, RuntimeType declaringType)
   at System.Reflection.RuntimeConstructorInfo.<get_Signature>g__LazyCreateSignature|21_0()
   at System.Reflection.RuntimeConstructorInfo.GetParameters()
   at Swashbuckle.AspNetCore.SwaggerGen.JsonSerializerDataContractResolver.<>c.<GetDataPropertiesFor>b__6_3(ConstructorInfo c)
   at System.Linq.Enumerable.OrderedIterator`2.TryGetFirst(Boolean& found)
   at System.Linq.Enumerable.FirstOrDefault[TSource](IEnumerable`1 source)
   at Swashbuckle.AspNetCore.SwaggerGen.JsonSerializerDataContractResolver.GetDataPropertiesFor(Type objectType, Type& extensionDataType)
   at Swashbuckle.AspNetCore.SwaggerGen.JsonSerializerDataContractResolver.GetDataContractForType(Type type)
   at Swashbuckle.AspNetCore.SwaggerGen.SchemaGenerator.GetDataContractFor(Type modelType)
   at Swashbuckle.AspNetCore.SwaggerGen.SchemaGenerator.GenerateSchemaForParameter(Type modelType, SchemaRepository schemaRepository, ParameterInfo parameterInfo, ApiParameterRouteInfo routeInfo)
   at Swashbuckle.AspNetCore.SwaggerGen.SchemaGenerator.GenerateSchema(Type modelType, SchemaRepository schemaRepository, MemberInfo memberInfo, ParameterInfo parameterInfo, ApiParameterRouteInfo routeInfo)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateSchema(Type type, SchemaRepository schemaRepository, PropertyInfo propertyInfo, ParameterInfo parameterInfo, ApiParameterRouteInfo routeInfo)
   --- End of inner exception stack trace ---
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateSchema(Type type, SchemaRepository schemaRepository, PropertyInfo propertyInfo, ParameterInfo parameterInfo, ApiParameterRouteInfo routeInfo)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateRequestBodyFromBodyParameter(ApiDescription apiDescription, SchemaRepository schemaRepository, ApiParameterDescription bodyParameter)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateRequestBodyAndFilterContext(ApiDescription apiDescription, SchemaRepository schemaRepository, OpenApiDocument document)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateRequestBodyAsync(ApiDescription apiDescription, SchemaRepository schemaRepository, OpenApiDocument document)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateOperationAsync(OpenApiDocument document, ApiDescription apiDescription, SchemaRepository schemaRepository, Func`4 parametersGenerator, Func`4 bodyGenerator, Func`3 applyFilters)
   --- End of inner exception stack trace ---
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateOperationAsync(OpenApiDocument document, ApiDescription apiDescription, SchemaRepository schemaRepository, Func`4 parametersGenerator, Func`4 bodyGenerator, Func`3 applyFilters)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateOperationAsync(OpenApiDocument document, ApiDescription apiDescription, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateOperationsAsync(OpenApiDocument document, IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GeneratePathsAsync(OpenApiDocument document, IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository, Func`4 operationsGenerator)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GeneratePathsAsync(OpenApiDocument document, IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerAsync(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at DentalHub.API.Middleware.GlobalExceptionHandlerMiddleware.InvokeAsync(HttpContext context) in D:\projects\DentalHub\DentalHub.API\Middleware\GlobalExceptionHandlerMiddleware.cs:line 28
2026-02-13 01:38:27.910 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7267/swagger/v1/swagger.json - 500 null application/json 71.4816ms
2026-02-13 01:41:00.375 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7267/swagger/index.html - null null
2026-02-13 01:41:00.455 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7267/swagger/index.html - 200 null text/html;charset=utf-8 80.025ms
2026-02-13 01:41:00.620 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7267/_framework/aspnetcore-browser-refresh.js - null null
2026-02-13 01:41:00.631 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7267/_vs/browserLink - null null
2026-02-13 01:41:00.696 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7267/_framework/aspnetcore-browser-refresh.js - 200 16511 application/javascript; charset=utf-8 76.2566ms
2026-02-13 01:41:00.753 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7267/_vs/browserLink - 200 null text/javascript; charset=UTF-8 120.8521ms
2026-02-13 01:41:01.040 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7267/swagger/v1/swagger.json - null null
2026-02-13 01:41:01.083 +02:00 [ERR] An unhandled exception occurred
Swashbuckle.AspNetCore.SwaggerGen.SwaggerGeneratorException: Failed to generate Operation for action - DentalHub.API.Controllers.CasesController.Create (DentalHub.API). See inner exception
 ---> Swashbuckle.AspNetCore.SwaggerGen.SwaggerGeneratorException: Failed to generate schema for type - DentalHub.Application.Commands.PatientCase.CreatePatientCaseCommand. See inner exception
 ---> System.TypeLoadException: Could not load type 'DentalHub.Application.Exceptions.ForbiddenAccessException' from assembly 'DentalHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null' due to value type mismatch.
   at System.Signature.GetSignature(Void* pCorSig, Int32 cCorSig, RuntimeFieldHandleInternal fieldHandle, IRuntimeMethodInfo methodHandle, RuntimeType declaringType)
   at System.Reflection.RuntimeConstructorInfo.<get_Signature>g__LazyCreateSignature|21_0()
   at System.Linq.Enumerable.OrderedIterator`2.TryGetFirst(Boolean& found)
   at System.Linq.Enumerable.FirstOrDefault[TSource](IEnumerable`1 source)
   at Swashbuckle.AspNetCore.SwaggerGen.JsonSerializerDataContractResolver.GetDataPropertiesFor(Type objectType, Type& extensionDataType)
   at Swashbuckle.AspNetCore.SwaggerGen.JsonSerializerDataContractResolver.GetDataContractForType(Type type)
   at Swashbuckle.AspNetCore.SwaggerGen.SchemaGenerator.GenerateSchemaForParameter(Type modelType, SchemaRepository schemaRepository, ParameterInfo parameterInfo, ApiParameterRouteInfo routeInfo)
   at Swashbuckle.AspNetCore.SwaggerGen.SchemaGenerator.GenerateSchema(Type modelType, SchemaRepository schemaRepository, MemberInfo memberInfo, ParameterInfo parameterInfo, ApiParameterRouteInfo routeInfo)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateSchema(Type type, SchemaRepository schemaRepository, PropertyInfo propertyInfo, ParameterInfo parameterInfo, ApiParameterRouteInfo routeInfo)
   --- End of inner exception stack trace ---
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateSchema(Type type, SchemaRepository schemaRepository, PropertyInfo propertyInfo, ParameterInfo parameterInfo, ApiParameterRouteInfo routeInfo)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateRequestBodyFromBodyParameter(ApiDescription apiDescription, SchemaRepository schemaRepository, ApiParameterDescription bodyParameter)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateRequestBodyAndFilterContext(ApiDescription apiDescription, SchemaRepository schemaRepository, OpenApiDocument document)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateRequestBodyAsync(ApiDescription apiDescription, SchemaRepository schemaRepository, OpenApiDocument document)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateOperationAsync(OpenApiDocument document, ApiDescription apiDescription, SchemaRepository schemaRepository, Func`4 parametersGenerator, Func`4 bodyGenerator, Func`3 applyFilters)
   --- End of inner exception stack trace ---
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateOperationAsync(OpenApiDocument document, ApiDescription apiDescription, SchemaRepository schemaRepository, Func`4 parametersGenerator, Func`4 bodyGenerator, Func`3 applyFilters)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateOperationAsync(OpenApiDocument document, ApiDescription apiDescription, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateOperationsAsync(OpenApiDocument document, IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GeneratePathsAsync(OpenApiDocument document, IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository, Func`4 operationsGenerator)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GeneratePathsAsync(OpenApiDocument document, IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerAsync(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at DentalHub.API.Middleware.GlobalExceptionHandlerMiddleware.InvokeAsync(HttpContext context) in D:\projects\DentalHub\DentalHub.API\Middleware\GlobalExceptionHandlerMiddleware.cs:line 28
2026-02-13 01:41:01.112 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7267/swagger/v1/swagger.json - 500 null application/json 72.9231ms
2026-02-13 01:44:11.775 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7267/swagger/index.html - null null
2026-02-13 01:44:11.819 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7267/swagger/index.html - 200 null text/html;charset=utf-8 43.678ms
2026-02-13 01:44:11.954 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7267/_framework/aspnetcore-browser-refresh.js - null null
2026-02-13 01:44:11.957 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7267/_vs/browserLink - null null
2026-02-13 01:44:11.975 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7267/_framework/aspnetcore-browser-refresh.js - 200 16511 application/javascript; charset=utf-8 21.1788ms
2026-02-13 01:44:12.062 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7267/_vs/browserLink - 200 null text/javascript; charset=UTF-8 105.2093ms
2026-02-13 01:44:12.728 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7267/swagger/v1/swagger.json - null null
2026-02-13 01:44:12.747 +02:00 [ERR] An unhandled exception occurred
Swashbuckle.AspNetCore.SwaggerGen.SwaggerGeneratorException: Failed to generate Operation for action - DentalHub.API.Controllers.CasesController.Create (DentalHub.API). See inner exception
 ---> Swashbuckle.AspNetCore.SwaggerGen.SwaggerGeneratorException: Failed to generate schema for type - DentalHub.Application.Commands.PatientCase.CreatePatientCaseCommand. See inner exception
 ---> System.TypeLoadException: Could not load type 'DentalHub.Application.Exceptions.ForbiddenAccessException' from assembly 'DentalHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null' due to value type mismatch.
   at System.Signature.GetSignature(Void* pCorSig, Int32 cCorSig, RuntimeFieldHandleInternal fieldHandle, IRuntimeMethodInfo methodHandle, RuntimeType declaringType)
   at System.Reflection.RuntimeConstructorInfo.<get_Signature>g__LazyCreateSignature|21_0()
   at System.Linq.Enumerable.OrderedIterator`2.TryGetFirst(Boolean& found)
   at System.Linq.Enumerable.FirstOrDefault[TSource](IEnumerable`1 source)
   at Swashbuckle.AspNetCore.SwaggerGen.JsonSerializerDataContractResolver.GetDataPropertiesFor(Type objectType, Type& extensionDataType)
   at Swashbuckle.AspNetCore.SwaggerGen.JsonSerializerDataContractResolver.GetDataContractForType(Type type)
   at Swashbuckle.AspNetCore.SwaggerGen.SchemaGenerator.GenerateSchemaForParameter(Type modelType, SchemaRepository schemaRepository, ParameterInfo parameterInfo, ApiParameterRouteInfo routeInfo)
   at Swashbuckle.AspNetCore.SwaggerGen.SchemaGenerator.GenerateSchema(Type modelType, SchemaRepository schemaRepository, MemberInfo memberInfo, ParameterInfo parameterInfo, ApiParameterRouteInfo routeInfo)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateSchema(Type type, SchemaRepository schemaRepository, PropertyInfo propertyInfo, ParameterInfo parameterInfo, ApiParameterRouteInfo routeInfo)
   --- End of inner exception stack trace ---
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateSchema(Type type, SchemaRepository schemaRepository, PropertyInfo propertyInfo, ParameterInfo parameterInfo, ApiParameterRouteInfo routeInfo)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateRequestBodyFromBodyParameter(ApiDescription apiDescription, SchemaRepository schemaRepository, ApiParameterDescription bodyParameter)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateRequestBodyAndFilterContext(ApiDescription apiDescription, SchemaRepository schemaRepository, OpenApiDocument document)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateRequestBodyAsync(ApiDescription apiDescription, SchemaRepository schemaRepository, OpenApiDocument document)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateOperationAsync(OpenApiDocument document, ApiDescription apiDescription, SchemaRepository schemaRepository, Func`4 parametersGenerator, Func`4 bodyGenerator, Func`3 applyFilters)
   --- End of inner exception stack trace ---
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateOperationAsync(OpenApiDocument document, ApiDescription apiDescription, SchemaRepository schemaRepository, Func`4 parametersGenerator, Func`4 bodyGenerator, Func`3 applyFilters)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateOperationAsync(OpenApiDocument document, ApiDescription apiDescription, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateOperationsAsync(OpenApiDocument document, IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GeneratePathsAsync(OpenApiDocument document, IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository, Func`4 operationsGenerator)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GeneratePathsAsync(OpenApiDocument document, IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerAsync(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at DentalHub.API.Middleware.GlobalExceptionHandlerMiddleware.InvokeAsync(HttpContext context) in D:\projects\DentalHub\DentalHub.API\Middleware\GlobalExceptionHandlerMiddleware.cs:line 28
2026-02-13 01:44:12.772 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7267/swagger/v1/swagger.json - 500 null application/json 43.926ms
2026-02-13 01:44:29.247 +02:00 [INF] DB tables already exist. Exit install
2026-02-13 01:44:29.349 +02:00 [INF] User profile is available. Using 'C:\Users\DELL\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-02-13 01:44:29.560 +02:00 [INF] Now listening on: https://localhost:7267
2026-02-13 01:44:29.569 +02:00 [INF] Now listening on: http://localhost:5045
2026-02-13 01:44:29.765 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7267/swagger/index.html - null null
2026-02-13 01:44:29.860 +02:00 [INF] Starting Hangfire Server using job storage: 'Server: db39102.public.databaseasp.net@db39102'
2026-02-13 01:44:30.000 +02:00 [INF] Using the following options for SQL Server job storage:
2026-02-13 01:44:30.005 +02:00 [INF]     Queue poll interval: 00:00:10.
2026-02-13 01:44:30.035 +02:00 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2026-02-13 01:44:30.084 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2026-02-13 01:44:30.161 +02:00 [INF] Hosting environment: Development
2026-02-13 01:44:30.168 +02:00 [INF] Content root path: D:\projects\DentalHub\DentalHub.API
2026-02-13 01:44:30.322 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7267/swagger/index.html - 200 null text/html;charset=utf-8 558.3046ms
2026-02-13 01:44:30.421 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7267/_vs/browserLink - null null
2026-02-13 01:44:30.421 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7267/_framework/aspnetcore-browser-refresh.js - null null
2026-02-13 01:44:30.530 +02:00 [INF] Server mrrobot:5040:89b8e260 successfully announced in 402.5562 ms
2026-02-13 01:44:30.604 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7267/_framework/aspnetcore-browser-refresh.js - 200 16511 application/javascript; charset=utf-8 182.5455ms
2026-02-13 01:44:30.609 +02:00 [INF] Server mrrobot:5040:89b8e260 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
2026-02-13 01:44:30.618 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7267/_vs/browserLink - 200 null text/javascript; charset=UTF-8 196.6251ms
2026-02-13 01:44:30.725 +02:00 [INF] Server mrrobot:5040:89b8e260 all the dispatchers started
2026-02-13 01:44:30.904 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7267/swagger/v1/swagger.json - null null
2026-02-13 01:44:31.011 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7267/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 107.2348ms
2026-02-13 01:44:56.088 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7267/api/Cases - application/json 161
2026-02-13 01:44:56.179 +02:00 [INF] CORS policy execution successful.
2026-02-13 01:44:56.195 +02:00 [INF] Executing endpoint 'DentalHub.API.Controllers.CasesController.Create (DentalHub.API)'
2026-02-13 01:44:56.224 +02:00 [INF] Route matched with {action = "Create", controller = "Cases"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[DentalHub.Application.DTOs.Shared.ApiResponse`1[System.Guid]]] Create(DentalHub.Application.Commands.PatientCase.CreatePatientCaseCommand) on controller DentalHub.API.Controllers.CasesController (DentalHub.API).
2026-02-13 01:44:56.238 +02:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2026-02-13 01:44:59.562 +02:00 [INF] Executed DbCommand (80ms) [Parameters=[@__dto_PatientId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `Patients` AS `p`
    WHERE `p`.`DeleteAt` IS NULL AND (`p`.`UserId` = @__dto_PatientId_0))
2026-02-13 01:44:59.745 +02:00 [INF] Executed DbCommand (74ms) [Parameters=[@__dto_CaseTypeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `CaseTypes` AS `c`
    WHERE `c`.`DeleteAt` IS NULL AND (`c`.`Id` = @__dto_CaseTypeId_0))
2026-02-13 01:44:59.766 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'DentalHub.Application.DTOs.Shared.ApiResponse`1[[System.Guid, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-02-13 01:44:59.787 +02:00 [INF] Executed action DentalHub.API.Controllers.CasesController.Create (DentalHub.API) in 3549.5704ms
2026-02-13 01:44:59.795 +02:00 [INF] Executed endpoint 'DentalHub.API.Controllers.CasesController.Create (DentalHub.API)'
2026-02-13 01:44:59.813 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7267/api/Cases - 400 null application/json; charset=utf-8 3724.9335ms
2026-02-13 01:46:12.113 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7267/api/Cases - application/json 161
2026-02-13 01:46:12.183 +02:00 [INF] CORS policy execution successful.
2026-02-13 01:46:12.190 +02:00 [INF] Executing endpoint 'DentalHub.API.Controllers.CasesController.Create (DentalHub.API)'
2026-02-13 01:46:12.194 +02:00 [INF] Route matched with {action = "Create", controller = "Cases"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[DentalHub.Application.DTOs.Shared.ApiResponse`1[System.Guid]]] Create(DentalHub.Application.Commands.PatientCase.CreatePatientCaseCommand) on controller DentalHub.API.Controllers.CasesController (DentalHub.API).
2026-02-13 01:46:12.748 +02:00 [INF] Executed DbCommand (74ms) [Parameters=[@__dto_PatientId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `Patients` AS `p`
    WHERE `p`.`DeleteAt` IS NULL AND (`p`.`UserId` = @__dto_PatientId_0))
2026-02-13 01:46:12.903 +02:00 [INF] Executed DbCommand (74ms) [Parameters=[@__dto_CaseTypeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `CaseTypes` AS `c`
    WHERE `c`.`DeleteAt` IS NULL AND (`c`.`Id` = @__dto_CaseTypeId_0))
2026-02-13 01:46:12.921 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'DentalHub.Application.DTOs.Shared.ApiResponse`1[[System.Guid, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-02-13 01:46:12.928 +02:00 [INF] Executed action DentalHub.API.Controllers.CasesController.Create (DentalHub.API) in 726.699ms
2026-02-13 01:46:12.932 +02:00 [INF] Executed endpoint 'DentalHub.API.Controllers.CasesController.Create (DentalHub.API)'
2026-02-13 01:46:12.937 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7267/api/Cases - 400 null application/json; charset=utf-8 824.2931ms
2026-02-13 01:49:32.175 +02:00 [INF] 1 servers were removed due to timeout
2026-02-13 01:49:36.159 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7267/swagger/index.html - null null
2026-02-13 01:49:36.190 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7267/swagger/index.html - 200 null text/html;charset=utf-8 30.6954ms
2026-02-13 01:49:36.262 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7267/_vs/browserLink - null null
2026-02-13 01:49:36.262 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7267/_framework/aspnetcore-browser-refresh.js - null null
2026-02-13 01:49:36.289 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7267/_framework/aspnetcore-browser-refresh.js - 200 16511 application/javascript; charset=utf-8 26.8329ms
2026-02-13 01:49:36.313 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7267/_vs/browserLink - 200 null text/javascript; charset=UTF-8 51.4349ms
2026-02-13 01:49:38.089 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7267/swagger/v1/swagger.json - null null
2026-02-13 01:49:38.238 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7267/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 149.5003ms
2026-02-13 01:49:56.747 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7267/api/Cases - application/json 161
2026-02-13 01:49:56.862 +02:00 [INF] CORS policy execution successful.
2026-02-13 01:49:56.878 +02:00 [INF] Executing endpoint 'DentalHub.API.Controllers.CasesController.Create (DentalHub.API)'
2026-02-13 01:49:56.896 +02:00 [INF] Route matched with {action = "Create", controller = "Cases"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[DentalHub.Application.DTOs.Shared.ApiResponse`1[System.Guid]]] Create(DentalHub.Application.Commands.PatientCase.CreatePatientCaseCommand) on controller DentalHub.API.Controllers.CasesController (DentalHub.API).
2026-02-13 01:49:57.459 +02:00 [INF] Executed DbCommand (78ms) [Parameters=[@__dto_PatientId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `Patients` AS `p`
    WHERE `p`.`DeleteAt` IS NULL AND (`p`.`UserId` = @__dto_PatientId_0))
2026-02-13 01:49:57.624 +02:00 [INF] Executed DbCommand (79ms) [Parameters=[@__dto_CaseTypeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `CaseTypes` AS `c`
    WHERE `c`.`DeleteAt` IS NULL AND (`c`.`Id` = @__dto_CaseTypeId_0))
2026-02-13 01:49:58.046 +02:00 [INF] Executed DbCommand (78ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (Size = 4000), @p5='?' (DbType = Guid), @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
INSERT INTO `PatientCases` (`Id`, `CaseTypeId`, `CreateAt`, `DeleteAt`, `Description`, `PatientId`, `Status`, `UpdateAt`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2026-02-13 01:49:58.127 +02:00 [INF] Patient case created: "4ce3bd82-fe5f-471f-bd6d-b4af46096d3b" for patient "08de6994-2a4d-4f88-8bc6-df9f79192bfa"
2026-02-13 01:49:58.877 +02:00 [INF] Executed DbCommand (77ms) [Parameters=[@__caseId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`PatientId`, `a`.`FullName` AS `PatientName`, `p1`.`Age` AS `PatientAge`, CASE `p`.`Status`
    WHEN 0 THEN 'Pending'
    WHEN 1 THEN 'InProgress'
    WHEN 2 THEN 'Completed'
    WHEN 3 THEN 'Cancelled'
    ELSE CAST(`p`.`Status` AS char)
END AS `Status`, `p`.`CreateAt`, (
    SELECT COUNT(*)
    FROM `Sessions` AS `s`
    WHERE `s`.`DeleteAt` IS NULL AND (`p`.`Id` = `s`.`CaseId`)) AS `TotalSessions`, (
    SELECT COUNT(*)
    FROM `CaseRequests` AS `c`
    WHERE (`c`.`DeleteAt` IS NULL AND (`p`.`Id` = `c`.`PatientCaseId`)) AND (`c`.`Status` = 0)) AS `PendingRequests`
FROM `PatientCases` AS `p`
INNER JOIN (
    SELECT `p0`.`UserId`, `p0`.`Age`
    FROM `Patients` AS `p0`
    WHERE `p0`.`DeleteAt` IS NULL
) AS `p1` ON `p`.`PatientId` = `p1`.`UserId`
INNER JOIN `AspNetUsers` AS `a` ON `p1`.`UserId` = `a`.`Id`
WHERE `p`.`DeleteAt` IS NULL AND (`p`.`Id` = @__caseId_0)
LIMIT 1
2026-02-13 01:49:58.895 +02:00 [INF] Executing OkObjectResult, writing value of type 'DentalHub.Application.DTOs.Shared.ApiResponse`1[[System.Guid, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-02-13 01:49:58.905 +02:00 [INF] Executed action DentalHub.API.Controllers.CasesController.Create (DentalHub.API) in 1959.3019ms
2026-02-13 01:49:58.911 +02:00 [INF] Executed endpoint 'DentalHub.API.Controllers.CasesController.Create (DentalHub.API)'
2026-02-13 01:49:58.916 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7267/api/Cases - 200 null application/json; charset=utf-8 2169.7784ms
2026-02-13 01:50:20.631 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7267/api/Cases/4ce3bd82-fe5f-471f-bd6d-b4af46096d3b - null null
2026-02-13 01:50:20.660 +02:00 [INF] Executing endpoint 'DentalHub.API.Controllers.CasesController.GetById (DentalHub.API)'
2026-02-13 01:50:20.672 +02:00 [INF] Route matched with {action = "GetById", controller = "Cases"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[DentalHub.Application.DTOs.Shared.ApiResponse`1[DentalHub.Application.DTOs.Cases.PatientCaseDto]]] GetById(System.Guid) on controller DentalHub.API.Controllers.CasesController (DentalHub.API).
2026-02-13 01:50:21.191 +02:00 [INF] Executed DbCommand (105ms) [Parameters=[@__caseId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`PatientId`, `a`.`FullName` AS `PatientName`, `p1`.`Age` AS `PatientAge`, CASE `p`.`Status`
    WHEN 0 THEN 'Pending'
    WHEN 1 THEN 'InProgress'
    WHEN 2 THEN 'Completed'
    WHEN 3 THEN 'Cancelled'
    ELSE CAST(`p`.`Status` AS char)
END AS `Status`, `p`.`CreateAt`, (
    SELECT COUNT(*)
    FROM `Sessions` AS `s`
    WHERE `s`.`DeleteAt` IS NULL AND (`p`.`Id` = `s`.`CaseId`)) AS `TotalSessions`, (
    SELECT COUNT(*)
    FROM `CaseRequests` AS `c`
    WHERE (`c`.`DeleteAt` IS NULL AND (`p`.`Id` = `c`.`PatientCaseId`)) AND (`c`.`Status` = 0)) AS `PendingRequests`
FROM `PatientCases` AS `p`
INNER JOIN (
    SELECT `p0`.`UserId`, `p0`.`Age`
    FROM `Patients` AS `p0`
    WHERE `p0`.`DeleteAt` IS NULL
) AS `p1` ON `p`.`PatientId` = `p1`.`UserId`
INNER JOIN `AspNetUsers` AS `a` ON `p1`.`UserId` = `a`.`Id`
WHERE `p`.`DeleteAt` IS NULL AND (`p`.`Id` = @__caseId_0)
LIMIT 1
2026-02-13 01:50:22.056 +02:00 [INF] Executing OkObjectResult, writing value of type 'DentalHub.Application.DTOs.Shared.ApiResponse`1[[DentalHub.Application.DTOs.Cases.PatientCaseDto, DentalHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-13 01:50:22.073 +02:00 [INF] Executed action DentalHub.API.Controllers.CasesController.GetById (DentalHub.API) in 1390.618ms
2026-02-13 01:50:22.091 +02:00 [INF] Executed endpoint 'DentalHub.API.Controllers.CasesController.GetById (DentalHub.API)'
2026-02-13 01:50:22.101 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7267/api/Cases/4ce3bd82-fe5f-471f-bd6d-b4af46096d3b - 200 null application/json; charset=utf-8 1469.8734ms
2026-02-13 01:54:41.272 +02:00 [INF] DB tables already exist. Exit install
2026-02-13 01:54:41.606 +02:00 [INF] User profile is available. Using 'C:\Users\DELL\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-02-13 01:54:42.251 +02:00 [INF] Now listening on: https://localhost:7267
2026-02-13 01:54:42.285 +02:00 [INF] Now listening on: http://localhost:5045
2026-02-13 01:54:42.631 +02:00 [INF] Starting Hangfire Server using job storage: 'Server: db39102.public.databaseasp.net@db39102'
2026-02-13 01:54:42.656 +02:00 [INF] Using the following options for SQL Server job storage:
2026-02-13 01:54:42.661 +02:00 [INF]     Queue poll interval: 00:00:10.
2026-02-13 01:54:42.675 +02:00 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2026-02-13 01:54:42.713 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2026-02-13 01:54:42.769 +02:00 [INF] Hosting environment: Development
2026-02-13 01:54:42.785 +02:00 [INF] Content root path: D:\projects\DentalHub\DentalHub.API
2026-02-13 01:54:43.979 +02:00 [INF] Server mrrobot:9612:356797ad successfully announced in 1231.9777 ms
2026-02-13 01:54:43.999 +02:00 [INF] Server mrrobot:9612:356797ad is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
2026-02-13 01:54:44.314 +02:00 [INF] Server mrrobot:9612:356797ad all the dispatchers started
2026-02-13 01:54:44.698 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7267/swagger/index.html - null null
2026-02-13 01:54:45.240 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7267/swagger/index.html - 200 null text/html;charset=utf-8 541.893ms
2026-02-13 01:54:45.401 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7267/_vs/browserLink - null null
2026-02-13 01:54:45.401 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7267/_framework/aspnetcore-browser-refresh.js - null null
2026-02-13 01:54:45.483 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7267/_framework/aspnetcore-browser-refresh.js - 200 16511 application/javascript; charset=utf-8 81.6095ms
2026-02-13 01:54:45.552 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7267/_vs/browserLink - 200 null text/javascript; charset=UTF-8 150.8793ms
2026-02-13 01:54:46.334 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7267/swagger/v1/swagger.json - null null
2026-02-13 01:54:46.461 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7267/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 127.7688ms
2026-02-13 01:55:11.968 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7267/api/Cases/4ce3bd82-fe5f-471f-bd6d-b4af46096d3b - null null
2026-02-13 01:55:12.128 +02:00 [INF] Executing endpoint 'DentalHub.API.Controllers.CasesController.GetById (DentalHub.API)'
2026-02-13 01:55:12.257 +02:00 [INF] Route matched with {action = "GetById", controller = "Cases"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[DentalHub.Application.DTOs.Shared.ApiResponse`1[DentalHub.Application.DTOs.Cases.PatientCaseDto]]] GetById(System.Guid) on controller DentalHub.API.Controllers.CasesController (DentalHub.API).
2026-02-13 01:55:12.300 +02:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2026-02-13 01:55:16.830 +02:00 [INF] Executed DbCommand (83ms) [Parameters=[@__caseId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`PatientId`, `a`.`FullName` AS `PatientName`, `p1`.`Age` AS `PatientAge`, `p`.`CaseTypeId` AS `Id`, `c0`.`Name`, CASE `p`.`Status`
    WHEN 0 THEN 'Pending'
    WHEN 1 THEN 'InProgress'
    WHEN 2 THEN 'Completed'
    WHEN 3 THEN 'Cancelled'
    ELSE CAST(`p`.`Status` AS char)
END AS `Status`, `p`.`CreateAt`, (
    SELECT COUNT(*)
    FROM `Sessions` AS `s`
    WHERE `s`.`DeleteAt` IS NULL AND (`p`.`Id` = `s`.`CaseId`)) AS `TotalSessions`, (
    SELECT COUNT(*)
    FROM `CaseRequests` AS `c1`
    WHERE (`c1`.`DeleteAt` IS NULL AND (`p`.`Id` = `c1`.`PatientCaseId`)) AND (`c1`.`Status` = 0)) AS `PendingRequests`
FROM `PatientCases` AS `p`
INNER JOIN (
    SELECT `p0`.`UserId`, `p0`.`Age`
    FROM `Patients` AS `p0`
    WHERE `p0`.`DeleteAt` IS NULL
) AS `p1` ON `p`.`PatientId` = `p1`.`UserId`
INNER JOIN `AspNetUsers` AS `a` ON `p1`.`UserId` = `a`.`Id`
INNER JOIN (
    SELECT `c`.`Id`, `c`.`Name`
    FROM `CaseTypes` AS `c`
    WHERE `c`.`DeleteAt` IS NULL
) AS `c0` ON `p`.`CaseTypeId` = `c0`.`Id`
WHERE `p`.`DeleteAt` IS NULL AND (`p`.`Id` = @__caseId_0)
LIMIT 1
2026-02-13 01:55:16.866 +02:00 [INF] Executing OkObjectResult, writing value of type 'DentalHub.Application.DTOs.Shared.ApiResponse`1[[DentalHub.Application.DTOs.Cases.PatientCaseDto, DentalHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-13 01:55:16.938 +02:00 [INF] Executed action DentalHub.API.Controllers.CasesController.GetById (DentalHub.API) in 4643.7051ms
2026-02-13 01:55:16.956 +02:00 [INF] Executed endpoint 'DentalHub.API.Controllers.CasesController.GetById (DentalHub.API)'
2026-02-13 01:55:17.022 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7267/api/Cases/4ce3bd82-fe5f-471f-bd6d-b4af46096d3b - 200 null application/json; charset=utf-8 5054.213ms
2026-02-13 01:56:09.115 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7267/api/Cases - application/json 160
2026-02-13 01:56:09.347 +02:00 [INF] CORS policy execution successful.
2026-02-13 01:56:09.377 +02:00 [INF] Executing endpoint 'DentalHub.API.Controllers.CasesController.Create (DentalHub.API)'
2026-02-13 01:56:09.395 +02:00 [INF] Route matched with {action = "Create", controller = "Cases"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[DentalHub.Application.DTOs.Shared.ApiResponse`1[System.Guid]]] Create(DentalHub.Application.Commands.PatientCase.CreatePatientCaseCommand) on controller DentalHub.API.Controllers.CasesController (DentalHub.API).
2026-02-13 01:56:09.506 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2026-02-13 01:56:09.573 +02:00 [INF] Executed action DentalHub.API.Controllers.CasesController.Create (DentalHub.API) in 162.8228ms
2026-02-13 01:56:09.585 +02:00 [INF] Executed endpoint 'DentalHub.API.Controllers.CasesController.Create (DentalHub.API)'
2026-02-13 01:56:09.592 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7267/api/Cases - 400 null application/problem+json; charset=utf-8 477.6405ms
2026-02-13 01:56:30.031 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7267/api/Cases - application/json 161
2026-02-13 01:56:30.313 +02:00 [INF] CORS policy execution successful.
2026-02-13 01:56:30.369 +02:00 [INF] Executing endpoint 'DentalHub.API.Controllers.CasesController.Create (DentalHub.API)'
2026-02-13 01:56:30.390 +02:00 [INF] Route matched with {action = "Create", controller = "Cases"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[DentalHub.Application.DTOs.Shared.ApiResponse`1[System.Guid]]] Create(DentalHub.Application.Commands.PatientCase.CreatePatientCaseCommand) on controller DentalHub.API.Controllers.CasesController (DentalHub.API).
2026-02-13 01:56:30.993 +02:00 [INF] Executed DbCommand (75ms) [Parameters=[@__dto_PatientId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `Patients` AS `p`
    WHERE `p`.`DeleteAt` IS NULL AND (`p`.`UserId` = @__dto_PatientId_0))
2026-02-13 01:56:31.155 +02:00 [INF] Executed DbCommand (75ms) [Parameters=[@__dto_CaseTypeId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `CaseTypes` AS `c`
    WHERE `c`.`DeleteAt` IS NULL AND (`c`.`Id` = @__dto_CaseTypeId_0))
2026-02-13 01:56:31.752 +02:00 [INF] Executed DbCommand (83ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (Size = 4000), @p5='?' (DbType = Guid), @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
INSERT INTO `PatientCases` (`Id`, `CaseTypeId`, `CreateAt`, `DeleteAt`, `Description`, `PatientId`, `Status`, `UpdateAt`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2026-02-13 01:56:31.789 +02:00 [INF] Patient case created: "c3798d62-6869-4ea2-aa9e-c37f828efc93" for patient "08de6994-2a4d-4f88-8bc6-df9f79192bfa"
2026-02-13 01:56:31.983 +02:00 [INF] Executed DbCommand (77ms) [Parameters=[@__caseId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`PatientId`, `a`.`FullName` AS `PatientName`, `p1`.`Age` AS `PatientAge`, `p`.`CaseTypeId` AS `Id`, `c0`.`Name`, CASE `p`.`Status`
    WHEN 0 THEN 'Pending'
    WHEN 1 THEN 'InProgress'
    WHEN 2 THEN 'Completed'
    WHEN 3 THEN 'Cancelled'
    ELSE CAST(`p`.`Status` AS char)
END AS `Status`, `p`.`CreateAt`, (
    SELECT COUNT(*)
    FROM `Sessions` AS `s`
    WHERE `s`.`DeleteAt` IS NULL AND (`p`.`Id` = `s`.`CaseId`)) AS `TotalSessions`, (
    SELECT COUNT(*)
    FROM `CaseRequests` AS `c1`
    WHERE (`c1`.`DeleteAt` IS NULL AND (`p`.`Id` = `c1`.`PatientCaseId`)) AND (`c1`.`Status` = 0)) AS `PendingRequests`
FROM `PatientCases` AS `p`
INNER JOIN (
    SELECT `p0`.`UserId`, `p0`.`Age`
    FROM `Patients` AS `p0`
    WHERE `p0`.`DeleteAt` IS NULL
) AS `p1` ON `p`.`PatientId` = `p1`.`UserId`
INNER JOIN `AspNetUsers` AS `a` ON `p1`.`UserId` = `a`.`Id`
INNER JOIN (
    SELECT `c`.`Id`, `c`.`Name`
    FROM `CaseTypes` AS `c`
    WHERE `c`.`DeleteAt` IS NULL
) AS `c0` ON `p`.`CaseTypeId` = `c0`.`Id`
WHERE `p`.`DeleteAt` IS NULL AND (`p`.`Id` = @__caseId_0)
LIMIT 1
2026-02-13 01:56:32.008 +02:00 [INF] Executing OkObjectResult, writing value of type 'DentalHub.Application.DTOs.Shared.ApiResponse`1[[System.Guid, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-02-13 01:56:32.049 +02:00 [INF] Executed action DentalHub.API.Controllers.CasesController.Create (DentalHub.API) in 1644.0686ms
2026-02-13 01:56:32.088 +02:00 [INF] Executed endpoint 'DentalHub.API.Controllers.CasesController.Create (DentalHub.API)'
2026-02-13 01:56:32.101 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7267/api/Cases - 200 null application/json; charset=utf-8 2069.9679ms
2026-02-13 01:56:48.481 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7267/api/Cases/c3798d62-6869-4ea2-aa9e-c37f828efc93 - null null
2026-02-13 01:56:48.636 +02:00 [INF] Executing endpoint 'DentalHub.API.Controllers.CasesController.GetById (DentalHub.API)'
2026-02-13 01:56:48.640 +02:00 [INF] Route matched with {action = "GetById", controller = "Cases"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[DentalHub.Application.DTOs.Shared.ApiResponse`1[DentalHub.Application.DTOs.Cases.PatientCaseDto]]] GetById(System.Guid) on controller DentalHub.API.Controllers.CasesController (DentalHub.API).
2026-02-13 01:56:49.126 +02:00 [INF] Executed DbCommand (77ms) [Parameters=[@__caseId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`PatientId`, `a`.`FullName` AS `PatientName`, `p1`.`Age` AS `PatientAge`, `p`.`CaseTypeId` AS `Id`, `c0`.`Name`, CASE `p`.`Status`
    WHEN 0 THEN 'Pending'
    WHEN 1 THEN 'InProgress'
    WHEN 2 THEN 'Completed'
    WHEN 3 THEN 'Cancelled'
    ELSE CAST(`p`.`Status` AS char)
END AS `Status`, `p`.`CreateAt`, (
    SELECT COUNT(*)
    FROM `Sessions` AS `s`
    WHERE `s`.`DeleteAt` IS NULL AND (`p`.`Id` = `s`.`CaseId`)) AS `TotalSessions`, (
    SELECT COUNT(*)
    FROM `CaseRequests` AS `c1`
    WHERE (`c1`.`DeleteAt` IS NULL AND (`p`.`Id` = `c1`.`PatientCaseId`)) AND (`c1`.`Status` = 0)) AS `PendingRequests`
FROM `PatientCases` AS `p`
INNER JOIN (
    SELECT `p0`.`UserId`, `p0`.`Age`
    FROM `Patients` AS `p0`
    WHERE `p0`.`DeleteAt` IS NULL
) AS `p1` ON `p`.`PatientId` = `p1`.`UserId`
INNER JOIN `AspNetUsers` AS `a` ON `p1`.`UserId` = `a`.`Id`
INNER JOIN (
    SELECT `c`.`Id`, `c`.`Name`
    FROM `CaseTypes` AS `c`
    WHERE `c`.`DeleteAt` IS NULL
) AS `c0` ON `p`.`CaseTypeId` = `c0`.`Id`
WHERE `p`.`DeleteAt` IS NULL AND (`p`.`Id` = @__caseId_0)
LIMIT 1
2026-02-13 01:56:49.134 +02:00 [INF] Executing OkObjectResult, writing value of type 'DentalHub.Application.DTOs.Shared.ApiResponse`1[[DentalHub.Application.DTOs.Cases.PatientCaseDto, DentalHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-13 01:56:49.140 +02:00 [INF] Executed action DentalHub.API.Controllers.CasesController.GetById (DentalHub.API) in 487.2196ms
2026-02-13 01:56:49.167 +02:00 [INF] Executed endpoint 'DentalHub.API.Controllers.CasesController.GetById (DentalHub.API)'
2026-02-13 01:56:49.181 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7267/api/Cases/c3798d62-6869-4ea2-aa9e-c37f828efc93 - 200 null application/json; charset=utf-8 699.3105ms
2026-02-13 01:57:04.461 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7267/api/Cases/patient/08de6994-2a4d-4f88-8bc6-df9f79192bfa - null null
2026-02-13 01:57:04.513 +02:00 [INF] Executing endpoint 'DentalHub.API.Controllers.CasesController.GetByPatientId (DentalHub.API)'
2026-02-13 01:57:04.537 +02:00 [INF] Route matched with {action = "GetByPatientId", controller = "Cases"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[DentalHub.Application.DTOs.Shared.ApiResponse`1[System.Collections.Generic.List`1[DentalHub.Application.DTOs.Cases.PatientCaseDto]]]] GetByPatientId(System.Guid) on controller DentalHub.API.Controllers.CasesController (DentalHub.API).
2026-02-13 01:57:05.147 +02:00 [INF] Executed DbCommand (88ms) [Parameters=[@__patientId_0='?' (DbType = Guid), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p1`.`Id`, `p1`.`PatientId`, `a`.`FullName` AS `PatientName`, `p2`.`Age` AS `PatientAge`, CASE `p1`.`Status`
    WHEN 0 THEN 'Pending'
    WHEN 1 THEN 'InProgress'
    WHEN 2 THEN 'Completed'
    WHEN 3 THEN 'Cancelled'
    ELSE CAST(`p1`.`Status` AS char)
END AS `Status`, `p1`.`CreateAt`, (
    SELECT COUNT(*)
    FROM `Sessions` AS `s`
    WHERE `s`.`DeleteAt` IS NULL AND (`p1`.`Id` = `s`.`CaseId`)) AS `TotalSessions`, (
    SELECT COUNT(*)
    FROM `CaseRequests` AS `c`
    WHERE (`c`.`DeleteAt` IS NULL AND (`p1`.`Id` = `c`.`PatientCaseId`)) AND (`c`.`Status` = 0)) AS `PendingRequests`
FROM (
    SELECT `p`.`Id`, `p`.`CreateAt`, `p`.`PatientId`, `p`.`Status`
    FROM `PatientCases` AS `p`
    WHERE `p`.`DeleteAt` IS NULL AND (`p`.`PatientId` = @__patientId_0)
    ORDER BY `p`.`CreateAt` DESC
    LIMIT @__p_2 OFFSET @__p_1
) AS `p1`
INNER JOIN (
    SELECT `p0`.`UserId`, `p0`.`Age`
    FROM `Patients` AS `p0`
    WHERE `p0`.`DeleteAt` IS NULL
) AS `p2` ON `p1`.`PatientId` = `p2`.`UserId`
INNER JOIN `AspNetUsers` AS `a` ON `p2`.`UserId` = `a`.`Id`
ORDER BY `p1`.`CreateAt` DESC
2026-02-13 01:57:05.346 +02:00 [INF] Executing OkObjectResult, writing value of type 'DentalHub.Application.DTOs.Shared.ApiResponse`1[[System.Collections.Generic.List`1[[DentalHub.Application.DTOs.Cases.PatientCaseDto, DentalHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-02-13 01:57:05.362 +02:00 [INF] Executed action DentalHub.API.Controllers.CasesController.GetByPatientId (DentalHub.API) in 816.6704ms
2026-02-13 01:57:05.378 +02:00 [INF] Executed endpoint 'DentalHub.API.Controllers.CasesController.GetByPatientId (DentalHub.API)'
2026-02-13 01:57:05.388 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7267/api/Cases/patient/08de6994-2a4d-4f88-8bc6-df9f79192bfa - 200 null application/json; charset=utf-8 926.3135ms
